<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Thu Oct 19 2023 15:41:02 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="65252c253b18f3ca1ef537f8" data-wf-site="64ff51cefe1818becb156888">
<head>
  <meta charset="utf-8">
  <title>My Promotions</title>
  <meta content="My Promotions" property="og:title">
  <meta content="My Promotions" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/bonap-resto.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Exo:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
</head>
<body>
<div class="popup">
  <div class="div-block">
    <h1>Create a Promotion</h1>
    <div class="w-form">
      <form id="wf-form-Promotion-Form" name="wf-form-Promotion-Form" data-name="Promotion Form" method="get" data-wf-page-id="65252c253b18f3ca1ef537f8" data-wf-element-id="493d3bbf-58ea-55ae-f384-9415bbe8c80e">
        <label for="field-2">PickUp the date</label>
        <!--
        <input type="text" class="w-input" maxlength="256" name="field" data-name="" placeholder="2023-10-10" id="field-2">
          -->
          <input type="date" min="" max="" id="field-2" required>
        <label for="field">Select the Time-Slot for the Promotion</label>
        <div class="div-block-3" style="grid-template-columns: 1fr 1fr 1fr 1fr;">
          <div>
            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-6a" name="checkbox-6a" data-name="Checkbox 6a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-6a">07:00 - 07:30</span>
            </label>
            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-6b" name="checkbox-6b" data-name="Checkbox 6b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-6b">07:30 - 08:00</span>
            </label>
            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-5a" name="checkbox-5a" data-name="Checkbox 5a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-5a">08:00 - 08:30</span>
            </label>
            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-5b" name="checkbox-5b" data-name="Checkbox 5b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-5b">08:30 - 09:00</span>
            </label>
            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-7a" name="checkbox-7a" data-name="Checkbox 7a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-7a">09:00 - 09:30</span>
            </label>
            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-7b" name="checkbox-7b" data-name="Checkbox 7b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-7b">09:30 - 10:00</span>
            </label>
            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-10a" name="checkbox-10a" data-name="Checkbox 10a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-10a">10:00 - 10:30</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-10b" name="checkbox-10b" data-name="Checkbox 10b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-10b">10:30 - 11:00</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-11a" name="checkbox-11a" data-name="Checkbox 11a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-11a">11:00 - 11:30</span>
            </label>
          </div>
          <div>


            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-11b" name="checkbox-11b" data-name="Checkbox 11b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-11b">11:30 - 12:00</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-12a" name="checkbox-12a" data-name="Checkbox 12a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-12a">12:00 - 12:30</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-12b" name="checkbox-12b" data-name="Checkbox 12b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-12b">12:30 - 13:00</span>
            </label>
            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-13a" name="checkbox-13a" data-name="Checkbox 13a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-13a">13:00 - 13:30</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-13b" name="checkbox-13b" data-name="Checkbox 13b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-13b">13:30 - 14:00</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-14a" name="checkbox-14a" data-name="Checkbox 14a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-14a">14:00 - 14:30</span>
            </label>
            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-14b" name="checkbox-14b" data-name="Checkbox 14b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-14b">14:30 - 15:00</span>
            </label>


            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-15a" name="checkbox-15a" data-name="Checkbox 15a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-15a">15:00 - 15:30</span>
            </label>
            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-15b" name="checkbox-15b" data-name="Checkbox 15b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-15b">15:30 - 16:00</span>
            </label>
          </div>

          <div>




            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-16a" name="checkbox-16a" data-name="Checkbox 16a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-16a">16:00 - 16:30</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-16b" name="checkbox-16b" data-name="Checkbox 16b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-16b">16:30 - 17:00</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-17a" name="checkbox-17a" data-name="Checkbox 17a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-17a">17:00 - 17:30</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-17b" name="checkbox-17b" data-name="Checkbox 17b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-17b">17:30 - 18:00</span>
            </label>


            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-18a" name="checkbox-18a" data-name="Checkbox 18a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-18a">18:00 - 18:30</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-18b" name="checkbox-18b" data-name="Checkbox 18b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-18b">18:30 - 19:00</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-19a" name="checkbox-19a" data-name="Checkbox 19a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-19a">19:00 - 19:30</span>
            </label>
            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-19b" name="checkbox-19b" data-name="Checkbox 19b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-19b">19:30 - 20:00</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-20a" name="checkbox-20a" data-name="Checkbox 20a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-20a">20:00 - 20:30</span>
            </label>


          </div>
          <div>


            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-20b" name="checkbox-20b" data-name="Checkbox 20b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-20b">20:30 - 21:00</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-21a" name="checkbox-21a" data-name="Checkbox 21a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-21a">21:00 - 21:30</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-21b" name="checkbox-21b" data-name="Checkbox 21b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-21b">21:30 - 22:00</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-22a" name="checkbox-22a" data-name="Checkbox 22a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-22a">22:00 - 22:30</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-22b" name="checkbox-22b" data-name="Checkbox 22b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-22b">22:30 - 23:00</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-23a" name="checkbox-23a" data-name="Checkbox 23a" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-23a">23:00 - 23:30</span>
            </label>

            <label class="w-checkbox">
              <input type="checkbox" id="checkbox-23b" name="checkbox-23b" data-name="Checkbox 23b" class="w-checkbox-input" />
              <span class="w-form-label" for="checkbox-23b">23:30 - 00:00</span>
            </label>
          </div>

        </div>
        <label for="name-2" class="field-label">Choose the Promotion</label>
        <div>
          <div class="div-block-2"><img src="images/PromotionsPicto10.svg" loading="lazy" alt=""><img src="images/PromotionsPicto20.svg" loading="lazy" alt=""><img src="images/PromotionsPicto30.svg" loading="lazy" alt=""><img src="images/PromotionsPicto40.svg" loading="lazy" alt=""><img src="images/PromotionsPicto50.svg" loading="lazy" alt=""></div>
        </div>
        <label for="field" class="field-label-2">How many reservation can use this Promotion?</label>
        <select id="field" name="field" data-name="Field" class="w-select">
          <option value="Another option">5</option>
          <option value="First">10</option>
          <option value="Second">15</option>
          <option value="Third">20</option>
          <option value="Another option">25</option>
          <option value="Another option">30</option>
          <option value="Another option">40</option>
          <option value="Another option">50</option>
          <option value="Another option">Unlimited</option>
        </select>
        <input type="submit" value="Submit" data-wait="Please wait..." data-w-id="493d3bbf-58ea-55ae-f384-9415bbe8c815" class="submit-button w-button">
      </form>
      <div class="w-form-done">
        <div>Thank you! Your submission has been received!</div>
      </div>
      <div class="w-form-fail">
        <div>Oops! Something went wrong while submitting the form.</div>
      </div>
    </div>
  </div>

</div>
<div class="navbar-no-shadow">
  <div data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar-no-shadow-container w-nav">
    <div class="container-regular">
      <div class="navbar-wrapper">
        <a href="." class="navbar-brand w-nav-brand"><img width="220" loading="lazy" alt="" src="images/20291009-Mini_Logo_White.png"></a>
        <nav role="navigation" class="nav-menu-wrapper w-nav-menu">
          <ul role="list" class="nav-menu w-list-unstyled">
            <li>
              <a href="." aria-current="page" class="nav-link w--current">Main page</a>
            </li>
            <li><button class="user-log-in-log-out" type="button" id="logout-btn">Log out</button></li>
          </ul>
        </nav>
        <div class="menu-button w-nav-button">
          <div class="w-icon-nav-menu"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<section class="features-table">
  <h1 class="heading">On-Going Promotions<br>‍</h1>
  <div class="">
    <div class="w-slide">
      <div class="w-dyn-list">
        <div role="list" class="w-dyn-items">
          <table>
            <thead>
            <tr>
              <th>Date</th>
              <th>Hour</th>
              <th>People</th>
              <th>Discount</th>
            </tr>
            </thead>
            <tbody id="table-discount">
            <tr>
              <td colspan="4" style="text-align: center">Loading...</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="div-block-4">
  </div>
</section>
<a data-w-id="744918d6-f521-a3f4-8005-ed27d558d553" href="#" style="position: absolute;
    right: 11vw;
    width: 65px;
    font-size: 60px;
    text-align: center;
    vertical-align: middle;
    padding: 22px 0px 0px 1px;
    font-family: cormfortaa;
"
   class="button-primary w-button">+</a>
<script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=64ff51cefe1818becb156888" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="js/webflow.js" type="text/javascript"></script>
<script>
  var urlBase = window.location.href.includes("localhost") ?"http://localhost:3000" :"https://bonap-api-d2a214f734f0.herokuapp.com";

  function loadDiscountList() {
    fetch(urlBase + "/discounts", {
      method: 'GET',
      credentials: 'include'
    })
            .then(response => response.json())
            .then(listDiscounts => {
              const tableDiscounts = document.getElementById('table-discount');
              tableDiscounts.innerHTML = "";
              listDiscounts.forEach(discount => {
                const row = document.createElement('tr');

                const colDate = document.createElement('td');
                colDate.textContent = discount.date_slot;

                const colHours = document.createElement('td');
                colHours.textContent = discount.hours;

                const colPeople = document.createElement('td');
                colPeople.textContent = discount.nb_people_max;

                const colDiscount = document.createElement('td');
                colDiscount.textContent = `-${discount.discount_pourcentage} %`;

                tableDiscounts.appendChild(row);
                row.appendChild(colDate);
                row.appendChild(colHours);
                row.appendChild(colPeople);
                row.appendChild(colDiscount);
              });
            })
            .catch(error => {
              console.error('Erreur lors de la demande : ', error);
            });
  }
  window.onload = loadDiscountList;

  var currentDate = new Date();
  var maxDate = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, currentDate.getDate());
  var formattedMaxDate = maxDate.toISOString().split('T')[0];
  document.getElementById('field-2').max = formattedMaxDate;
  var formattedMinDate = currentDate.toISOString().split('T')[0];
  document.getElementById('field-2').min = formattedMinDate;

  const btn_logout = document.getElementById('logout-btn');
  btn_logout.addEventListener('click', () => {
    fetch(urlBase+'/restaurants/logout', {
      method: 'GET',
      credentials: 'include'
    })
            .then(response => {
              if (response.ok) {
                window.location.href = 'login.html';
              } else {
                console.log('La requête a échoué.');
              }
            })
            .catch(error => {
              console.error('Erreur de réseau : ', error);
            });
  });
</script>
</body>
</html>