<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Thu Oct 19 2023 15:41:02 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="64ff51cefe1818becb15689d" data-wf-site="64ff51cefe1818becb156888">
<head>
  <meta charset="utf-8">
  <title>Bonap_Resto</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/bonap-resto.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script src="./js/auth.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Exo:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<div class="popup">
  <div class="div-block">
    <h1>Create a Promotion</h1>
    <div class="w-form">
      <form id="wf-form-Promotion-Form" name="wf-form-Promotion-Form" data-name="Promotion Form" method="get" data-wf-page-id="64ff51cefe1818becb15689d" data-wf-element-id="493d3bbf-58ea-55ae-f384-9415bbe8c80e">
        <label for="Day-Of-The-Week">PickUp the date</label>
        <select id="Day-Of-The-Week" name="Day-Of-The-Week" data-name="Day Of The Week" class="w-select">
          <option value="">Monday</option>
          <option value="First">Tuesday</option>
          <option value="Second">Wednesday</option>
          <option value="Third">Thursday</option>
          <option value="Another option">Saturday</option>
          <option value="Another option">Sunday</option>
        </select>
        <label for="field">Select the Time-Slot for the Promotion</label>
        <div class="div-block-3">
          <div><label class="w-checkbox"><input type="checkbox" id="checkbox-6" name="checkbox-6" data-name="Checkbox 6" class="w-checkbox-input"><span class="w-form-label" for="checkbox-6">07:00 - 08:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-5" name="checkbox-5" data-name="Checkbox 5" class="w-checkbox-input"><span class="w-form-label" for="checkbox-5">08:00 - 09:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-7" name="checkbox-7" data-name="Checkbox 7" class="w-checkbox-input"><span class="w-form-label" for="checkbox-7">09:00 - 10:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-4" name="checkbox-4" data-name="Checkbox 4" class="w-checkbox-input"><span class="w-form-label" for="checkbox-4">10:00 - 11:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-3" name="checkbox-3" data-name="Checkbox 3" class="w-checkbox-input"><span class="w-form-label" for="checkbox-3">11:00 - 12:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-2" name="checkbox-2" data-name="Checkbox 2" class="w-checkbox-input"><span class="w-form-label" for="checkbox-2">12:00 - 13:00</span></label></div>
          <div><label class="w-checkbox"><input type="checkbox" id="checkbox-6" name="checkbox-6" data-name="Checkbox 6" class="w-checkbox-input"><span class="w-form-label" for="checkbox-6">13:00 - 14:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-5" name="checkbox-5" data-name="Checkbox 5" class="w-checkbox-input"><span class="w-form-label" for="checkbox-5">14:00 - 15:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-7" name="checkbox-7" data-name="Checkbox 7" class="w-checkbox-input"><span class="w-form-label" for="checkbox-7">15:00 - 16:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-4" name="checkbox-4" data-name="Checkbox 4" class="w-checkbox-input"><span class="w-form-label" for="checkbox-4">16:00 - 17:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-3" name="checkbox-3" data-name="Checkbox 3" class="w-checkbox-input"><span class="w-form-label" for="checkbox-3">17:00 - 18:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-2" name="checkbox-2" data-name="Checkbox 2" class="w-checkbox-input"><span class="w-form-label" for="checkbox-2">18:00 - 19:00</span></label></div>
          <div><label class="w-checkbox"><input type="checkbox" id="checkbox-6" name="checkbox-6" data-name="Checkbox 6" class="w-checkbox-input"><span class="w-form-label" for="checkbox-6">19:00 - 20:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-5" name="checkbox-5" data-name="Checkbox 5" class="w-checkbox-input"><span class="w-form-label" for="checkbox-5">20:00 - 21:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-7" name="checkbox-7" data-name="Checkbox 7" class="w-checkbox-input"><span class="w-form-label" for="checkbox-7">21:00 - 22:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-4" name="checkbox-4" data-name="Checkbox 4" class="w-checkbox-input"><span class="w-form-label" for="checkbox-4">22:00 - 23:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-3" name="checkbox-3" data-name="Checkbox 3" class="w-checkbox-input"><span class="w-form-label" for="checkbox-3">23:00 - 00:00</span></label><label class="w-checkbox"><input type="checkbox" id="checkbox-2" name="checkbox-2" data-name="Checkbox 2" class="w-checkbox-input"><span class="w-form-label" for="checkbox-2">00:00 - 07:00</span></label></div>
        </div>
        <label for="name-2" class="field-label">Choose the Promotion</label>
        <div>
          <div class="div-block-2"><img src="images/PromotionsPicto10.svg" loading="lazy" alt=""><img src="images/PromotionsPicto20.svg" loading="lazy" alt=""><img src="images/PromotionsPicto30.svg" loading="lazy" alt=""><img src="images/PromotionsPicto40.svg" loading="lazy" alt=""><img src="images/PromotionsPicto50.svg" loading="lazy" alt=""></div>
        </div>
        <label for="field" class="field-label-2">How many reservation can use this Promotion?</label>
        <select id="field" name="field" data-name="Field" class="select-field w-select">
          <option value="Another option">5</option>
          <option value="First">10</option>
          <option value="Second">15</option>
          <option value="Third">20</option>
          <option value="Another option">25</option>
          <option value="Another option">30</option>
          <option value="Another option">40</option>
          <option value="Another option">50</option>
          <option value="Another option">Unlimited</option>
        </select>
        <input type="submit" value="Submit" data-wait="Please wait..." data-w-id="493d3bbf-58ea-55ae-f384-9415bbe8c815" class="submit-button w-button">
      </form>
      <div class="w-form-done">
        <div>Thank you! Your submission has been received!</div>
      </div>
      <div class="w-form-fail">
        <div>Oops! Something went wrong while submitting the form.</div>
      </div>
    </div>
  </div>
  <h1>Heading</h1>
</div>
<div class="navbar-no-shadow">
  <div data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar-no-shadow-container w-nav">
    <div class="container-regular">
      <div class="navbar-wrapper">
        <a href="." class="navbar-brand w-nav-brand"><img width="220" loading="lazy" alt="" src="images/20291009-Mini_Logo_White.png"></a>
        <nav role="navigation" class="nav-menu-wrapper w-nav-menu">
          <ul role="list" class="nav-menu w-list-unstyled">
            <li>
              <a href="my-promotions.html" class="nav-link">My Promotions</a>
            </li>
            <li><button class="user-log-in-log-out" type="button" id="logout-btn">Log out</button></li>
          </ul>
        </nav>
        <div class="menu-button w-nav-button">
          <div class="w-icon-nav-menu"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<section>
  <h1 class="heading" style="font-size: 38px;">On-Going Reservations</h1>
  <div class="container-carrousel">
  </div>
  <div class="w-slide">
    <div class="w-dyn-list">
      <div role="list" class="w-dyn-items">
        <table>
          <thead>
          <tr>
            <th>Day</th>
            <th>Reservation</th>
            <th>Phone</th>
            <th>People</th>
          </tr>
          </thead>
          <tbody id="table-reservation">
          <tr>
            <td colspan="4" style="text-align: center">Loading...</td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  </div>
  <div class="div-block-4">
  </div>
</section>
<script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=64ff51cefe1818becb156888" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="js/webflow.js" type="text/javascript"></script>
<script>
  var urlBase = window.location.href.includes("localhost") ?"http://localhost:3000" :"https://bonap-api-d2a214f734f0.herokuapp.com";

  function chargerListeReservations() {
    fetch(urlBase + "/reservations/booked", {
      method: 'GET',
      credentials: 'include'
    })
            .then(response => response.json())
            .then(listeReservations => {
              const tableReservation = document.getElementById('table-reservation');
              tableReservation.innerHTML = "";

              listeReservations.forEach(reservation => {
                const row = document.createElement('tr');

                const colDay = document.createElement('td');
                colDay.textContent = reservation.date_reservation_calendar_format;

                const colName = document.createElement('td');
                colName.textContent = `${reservation.first_name} ${reservation.last_name}`;

                const colPhone = document.createElement('td');
                colPhone.textContent = `${reservation.cell_phone_number}`;

                const colPeople = document.createElement('td');
                colPeople.textContent = `${reservation.nb_people}`;

                tableReservation.appendChild(row);
                row.appendChild(colDay);
                row.appendChild(colName);
                row.appendChild(colPhone);
                row.appendChild(colPeople);
              });
            })
            .catch(error => {
              console.error('Erreur lors de la demande : ', error);
            });
  }
  window.onload = chargerListeReservations;

  const btn_logout = document.getElementById('logout-btn');
  btn_logout.addEventListener('click', () => {
    fetch(urlBase+'/restaurants/logout', {
      method: 'GET',
      credentials: 'include'
    })
            .then(response => {
              if (response.ok) {
                window.location.href = 'login.html';
              } else {
                console.log('La requête a échoué.');
              }
            })
            .catch(error => {
              console.error('Erreur de réseau : ', error);
            });
  });
</script>
</body>
</html>